基于blender的运动追踪，提取运动数据方法。
进入Motion Tracking功能，新建空物体，Ctrl+T得到曲线，将运动链接到物体，上方->物体->动画->烘焙动作

宽1.5cm
5cm       25d     0.01500m/s
          30d     0.47880m/s    y=0.00887x^2+0.12400x-1.32676

4cm       25d     0.01003m/s
          30d     0.22962m/s

6cm       25d     0.02288m/s
          20d     0.00845m/s

import bpy

# 获取当前场景
scene = bpy.context.scene

# 获取要导出位置数据的对象
obj = bpy.data.objects['Track']

# 打开文件并写入数据
with open('leg_tracking_velocity.txt', 'w') as file:
    file.write('Frame,Position_X,Position_Y,Position_Z\n')
    for frame in range(scene.frame_start, scene.frame_end + 1):
        scene.frame_set(frame)
        file.write('{},{},{},{}\n'.format(frame, obj.location.x, obj.location.y, obj.location.z))


这是一个由硬纸板构成的斜面行走器，假设我们想要研究这个物体的运动规律，最直接的方法是追踪他的运动轨迹。现在我们尝试使用blender的运动追踪功能进行探索。

我们的思路如下：首先要获取物体的运动信息，我们可以通过设置追踪点来实现，然后将运动信息转化成运动数据，接下来提取运动数据，然后就可以对运动数据进行绘图，得到物体的运动规律
    
首先启动blender三点六，我们在启动界面选择VFX。
先给这个工程文件起个名字，然后帧率设置为三十帧。导入视频文件。
这个视频大概在一百三十八帧结束，所以我们将结束点设置为一百三十八。
接下来我们进行描点，可以看到为了便于追踪我们事先在上面做了几个标记。通过设置追踪点可以让blender自动对其运动状态进行解算。按下control键和鼠标左键进行描点。
然后control加T自动进行追踪。 
这里追踪有点失败，因为标记点可能有些模糊，我们可以选择比较清晰的几帧进行追踪。
第二十二帧这个位置比较清晰，所以我们将从这一帧开始，描点。
control加T自动追踪。
生成了比较完善的追踪曲线。其中红线表示x方向的运动，绿线表示y方向的运动。
再检查一下，我们选择追踪效果最好的这个点。
然后删去其他点。
将起始点设置为二十二。
接下来是重点内容，为了获得这个追踪点的运动数据，我们在右上角的布局界面新建一个空物体。
然后在追踪面板的解算部分点击几何数据，将空物体链接到轨迹，这样就成功地将追踪点的运动复制给空物体了。
可以看到右上角的空物体的运动和追踪点运动是一致的。
空物体的运动确定之后，我们就可以对其进行烘焙。在布局面板选择顶部的“物体”，找到“动画”，烘焙动作，然后勾选可视插帧，点击确定，这样就可以得到空物体完整的运动数据了。在右边的物体属性可以查看，这些黄色的部分就是空物体的运动数据。
接下来我们提取这些运动数据。
在左上角新建一个文本编辑器，然后将视频中所示的代码复制到文本编辑器中。
可以看到这串代码通过获取当前场景下空物体的信息来获取运动数据。
如果不知道这里物体信息的路径，可以在黄色的数据部分通过鼠标右键，复制完整路径，就可以得到数据路径。
我们所要追踪的物体名字叫track点004，这里将数据写入一个文本文件中。
给这个文本文件起个名字，track零零。
然后保存，就可以运行这串代码了。
好像有点问题，可以重启试试。
再运行一下代码。
然后我们可以在文件夹中找到名为track零零的文本文件。
这就是我们需要的运动数据。它的第一列表示帧数序号，第二列表示x方向运动数据，第三列表示y方向运动数据
接下来进行图像绘制，启动VScode.
修改一下文件名，我们可以修改这里的索引来绘制x或者y方向的运动曲线。
然后修改一下x轴的取值范围。
运行一下，可以得到x方向的运动曲线。修改索引可以得到y方向的曲线
另外，我们还可以对运动曲线进行拟合。
可以采用二次曲线进行拟合，得到这样的二次曲线，其参数如下。
然后通过拟合曲线我们就可以了解物体运动的大致趋势。

以上就是通过blender进行运动追踪得到物体运动数据的基本方法。
可以看到通过对不同的物体进行追踪，我们也可以得到不同的运动曲线以及拟合曲线。

AI配音：
作者：Xz乔希 https://space.bilibili.com/5859321
声音归属：乃琳Queen https://space.bilibili.com/672342685
BGM：弦奏水琴乐章 - 夜想曲 第六番 ヘ長調（J.フィールド）
参考：Blender官方手册https://docs.blender.org/manual/zh-hans/4.2/index.html



